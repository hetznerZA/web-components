<link rel="import" href="/bower_components/paper-progress/paper-progress.html">
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="/bower_components/iron-input/iron-input.html">

<dom-module id="hetzner-password">

    <style>
    </style>

    <template>
        <input is="iron-input" id="hetzner-password-input" type="password" required placeholder="enter password" value="{{generatedPassword.data.credential}}" on-input="_checkPasswordStrength">
        <paper-progress></paper-progress>
        <!--
        <paper-button raised on-tap="_generateSecurePassword">
            <iron-icon icon="icons:lock"></iron-icon>
            <paper-spinner></paper-spinner>
            generate
        </paper-button>
        -->

        <iron-ajax id="generatePassword"
            url="https://2015.staging.hetzner.co.za?generatePassword" 
            handle-as="json"
            headers='{"X-Requested-With": "XMLHttpRequest"}'
            last-response="{{generatedPassword}}"></iron-ajax>

        <iron-ajax id="checkPasswordStrength"
            url="https://2015.staging.hetzner.co.za?validatePassword"
            handle-as="json"
            method="POST"
            content-type='application/x-www-form-urlencoded'
            headers='{"X-Requested-With":"XMLHttpRequest"}'
            last-response="{{passwordStrength}}"></iron-ajax>

    </template>

</dom-module>

<script src="hetzner-password.js"></script>
